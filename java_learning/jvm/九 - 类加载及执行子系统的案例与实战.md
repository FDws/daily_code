# 类加载及执行子系统的案例与实战
- 在Class文件格式与执行引擎这部分中, 用户不能直接改变. 能通过程序进行操作的主要是字节码生成与类加载器这两部分的功能.
### Tomcat : 正统的类加载器架构
1. Tomcat 需要解决的问题:
    - 部署在同一个服务器上的Web应用程序所使用的Java类库可以相互隔离
    - 部署在同一个服务器上的Web应用程序可以共享Java类库
    - 服务器应该尽可能保证自己不受部署的程序影响
    - 支持热部署
2. Tomcat 的目录结构:
    - /common: 可以被Tomcat和所有的应用程序使用
    - /server: 只能被Tomcat使用
    - /shared: 只能被应用程序使用
    - /WebApp/WEB-INF: 只能被此应用程序使用
3. Tomcat 类加载器架构:
    - ![](tomcat_classloader.png)
    - CommonClassLoader 加载 /common 目录中的类库
    - CatalinaClassLoader 加载 /server 目录中的类库
    - SharedClassLoader 加载 /shared 目录中的类库
    - WebAPPClassLoader 加载 /WebApp/WEB-INF 目录中的类库
    - JasperLoader 负责加载此JSP页面所编译的class文件. 当检测到jsp文件被修改时替换掉原来的加载器,实现热部署